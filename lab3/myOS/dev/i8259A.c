#include "io.h"

void init8259A(void){
	//设置全mask
	outb(0x21,0xFF);
	outb(0xA1,0xFF);
	//主片
	outb(0x20,0x11);
	outb(0x21,0x20);
	outb(0x21,0x04);
	outb(0x21,0x3);

	//从片
	outb(0xA0,0x11);
	outb(0xA1,0x28);
	outb(0xA1,0x02);
	outb(0xA1,0x01);
	//初始化mask
	outb(0x21,inb(0x21)&0b010);
}
